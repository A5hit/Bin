import org.openqa.selenium.WebDriver;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.edge.EdgeOptions;

import java.io.IOException;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.Scanner;


public class edgeRewardsExploit {

    public static void main(String[] args) throws InterruptedException {
        System.setProperty("webdriver.chrome.driver","/Users/a5hit/Desktop/msedgedriver");

        EdgeOptions edgeOptions = new EdgeOptions();
        edgeOptions.addArguments("user-data-dir=Users/a5hit/Library/Application Support/Microsoft Edge");
        edgeOptions.addArguments("profile-directory=Profile 1");

        WebDriver driver = new EdgeDriver(edgeOptions);

        List<String> searchKeyword = getDictonaryData();

        Thread.sleep(3000);

        for(int i=0;i< searchKeyword.size();i++){
            String url = ("https://www.bing.com/search?q="+searchKeyword.get(i)+"&qs=ds&form=QBRE");
            driver.get(url);
            Thread.sleep(2000);
        }

         driver.close();

    }

    public static List<String> getDictonaryData(){
        try {
            URL url = new URL("https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1102/assignments/dictionary.txt");
            Scanner s = new Scanner(url.openStream());
            // read from your scanner
            ArrayList<String> words = new ArrayList<>();
            Random random = new Random();
            while (s.hasNext()){
                words.add(s.nextLine());
            }
            ArrayList<String> keywords = new ArrayList<>();
            for(int i=0;i<30;i++){
                keywords.add(words.get(random.nextInt(words.size())));
            }
            return keywords;

        }
        catch(IOException ex) {
            // there was some connection problem, or the file did not exist on the server,
            // or your URL was not in the right format.
            // think about what to do now, and put it here.
            ex.printStackTrace(); // for now, simply output it.
        }
        return null;
    }



    }

